"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3904],{3904:(A,P,s)=>{s.r(P),s.d(P,{PpobtopupPageModule:()=>y});var o=s(6814),u=s(95),g=s(1325),d=s(8371),_=s(5861),m=s(6828),t=s(6689),k=s(492),e=s(6465),r=s(3251);function c(i,h){if(1&i&&(t.TgZ(0,"ion-select-option",16),t._uU(1),t.qZA()),2&i){const n=h.$implicit;t.s9C("value",n),t.xp6(1),t.Oqu(n)}}function b(i,h){if(1&i){const n=t.EpF();t.TgZ(0,"div",6)(1,"label"),t._uU(2),t.qZA(),t.TgZ(3,"ion-select",14),t.NdJ("ngModelChange",function(p){t.CHM(n);const l=t.oxw();return t.KtG(l.brand=p)})("ionChange",function(){t.CHM(n);const p=t.oxw();return t.KtG(p.cekHarga())}),t.YNc(4,c,2,2,"ion-select-option",15),t.qZA()()}if(2&i){const n=t.oxw();t.xp6(2),t.hij("Pilih Kategori ",n.jenis,""),t.xp6(1),t.Q6J("ngModel",n.brand),t.xp6(1),t.Q6J("ngForOf",n.pilihanbrand)}}function v(i,h){1&i&&(t.TgZ(0,"div",17),t._uU(1,"Belum ada produk yang sesuai"),t.qZA())}function I(i,h){1&i&&t._UZ(0,"div",18)}function L(i,h){1&i&&t._UZ(0,"div",18)}function U(i,h){1&i&&t._UZ(0,"div",18)}function R(i,h){if(1&i){const n=t.EpF();t.TgZ(0,"div",21)(1,"div",22),t.NdJ("click",function(){const l=t.CHM(n).index,f=t.oxw(2);return t.KtG(f.selectProduk(l))}),t.TgZ(2,"div",23),t._uU(3),t.qZA(),t.TgZ(4,"div",24),t._uU(5),t.ALo(6,"number"),t.qZA()()()}if(2&i){const n=h.$implicit,a=t.oxw(2);t.xp6(1),t.Q6J("ngClass",a.produkselect==n.id?"item active":"item"),t.xp6(2),t.Oqu(n.nama),t.xp6(2),t.hij("Rp ",t.Dn7(6,3,n.harga,"","es"),"")}}function M(i,h){if(1&i&&(t.TgZ(0,"div",19),t.YNc(1,R,7,7,"div",20),t.qZA()),2&i){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.produk)}}function x(i,h){if(1&i){const n=t.EpF();t.TgZ(0,"ion-footer",25)(1,"div",26)(2,"div",27)(3,"div",28),t._uU(4),t.ALo(5,"number"),t.qZA()(),t.TgZ(6,"div",29)(7,"ion-button",30),t.NdJ("click",function(){t.CHM(n);const p=t.oxw();return t.KtG(p.beliProduk())}),t._uU(8,"BELI"),t.qZA()()()()}if(2&i){const n=t.oxw();t.xp6(4),t.hij("Rp ",t.Dn7(5,1,n.total,"","es"),"")}}const C=[{path:"",component:(()=>{class i{activatedRoute;getapi;postapi;alert;navctrl;loading;jenis="Sesuatu";nohp;catpulsa=[[1,"Telkomsel","telkomsel","telkomsel.png",["0811","0812","0813","0821","0822","0823","0852","0853","0851"]],[2,"Indosat","indosat","indosat.png",["0814","0815","0816","0855","0856","0857","0858"]],[3,"XL","xl","xl.png",["0817","0818","0819","0859","0877","0878"]],[4,"Tri","tri","tri.png",["0895","0896","0897","0898","0899"]],[5,"Axis","axis","axis.png",["0838","0831","0832","0833"]],[6,"Smartfren","smartfren","smartfren.png",["0881","0882","0883","0884","0885","0886","0887","0888","0889"]],[7,"Bolt","bolt","bolt.png",["9991","9992","9993","9994","9995","9996","9997","9998"]]];produk=[];brand="telkomsel";skeleton=!1;produkselect;total=0;pilihanbrand=[];constructor(n,a,p,l,f,E){this.activatedRoute=n,this.getapi=a,this.postapi=p,this.alert=l,this.navctrl=f,this.loading=E,this.jenis=this.activatedRoute.snapshot.paramMap.get("id")}ngOnInit(){(0,o.qS)(m.Z)}ionViewWillEnter(){this.jenis=this.activatedRoute.snapshot.paramMap.get("id"),this.getapi.getBrandPPOB(this.jenis).subscribe(n=>{this.pilihanbrand=n.success?n.result:[]})}cekNomer(){if(this.jenis=this.activatedRoute.snapshot.paramMap.get("id"),"Pulsa"==this.jenis&&(this.nohp.length<4&&(this.produk=[]),this.nohp.length>=4)){var n=this.nohp.substring(0,4);this.catpulsa.forEach(a=>{a[4].includes(n)&&(this.brand=a[2],this.getProduk(a[2]))})}}selectProduk(n){this.total=parseFloat(this.produk[n].harga),this.produkselect=this.produk[n].id}cekHarga(){this.getProduk(this.brand)}getProduk(n){this.produk=[],this.total=0,this.skeleton=!0,this.jenis=this.activatedRoute.snapshot.paramMap.get("id"),this.getapi.getProdukPPOB(this.jenis,n).subscribe(a=>{a.success&&(this.produk=a.result),this.skeleton=!1})}beliProduk(){var n=this;return(0,_.Z)(function*(){const a=yield n.loading.create({message:"Memproses pesanan...",spinner:"circular"});typeof n.nohp<"u"&&n.nohp.length>8?n.alert.konfirmasi("Lanjutkan pembelian?","pembelian akan langsung diproses dan saldo Anda akan langsung terpotong. Pastikan saldo Anda cukup!").then(p=>{p.data&&(a.present(),n.postapi.beliTopupPPOB({nomer:n.nohp,produk:n.produkselect}).subscribe(l=>{a.dismiss(),l.success?(n.alert.presentToast("Berhasil memproses pesanan, silahkan lanjut ke halaman pembayaran"),n.navctrl.navigateForward(["/cekoutppob/"+l.result])):n.alert.presentAlert("Gagal memproses pembelian",l.msg)}))}):n.alert.presentAlert("Error: min.length 8","Nomor tidak valid, silahkan cek kembali nomor yang Anda masukkan sebelum klik BELI")})()}static \u0275fac=function(a){return new(a||i)(t.Y36(d.gz),t.Y36(k.L),t.Y36(e.E),t.Y36(r.c),t.Y36(g.SH),t.Y36(g.HT))};static \u0275cmp=t.Xpm({type:i,selectors:[["app-ppobtopup"]],decls:20,vars:10,consts:[[1,"ion-no-border"],["slot","start"],["defaultHref","/tabs/tab1","color","primary"],[1,"font-bold"],[1,"form"],["class","mb10",4,"ngIf"],[1,"mb10"],["type","text","debounce","1000",1,"input-bold",3,"ngModel","ngModelChange","ionInput"],[3,"fullscreen"],[1,"produk","mb50"],["class","notif",4,"ngIf"],["class","skeleton",4,"ngIf"],["class","produk-list row",4,"ngIf"],["class","btnwrap",4,"ngIf"],["interface","action-sheet",3,"ngModel","ngModelChange","ionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"notif"],[1,"skeleton"],[1,"produk-list","row"],["class","col6",4,"ngFor","ngForOf"],[1,"col6"],[3,"ngClass","click"],[1,"nama"],[1,"harga"],[1,"btnwrap"],[1,"row"],[1,"col8"],[1,"total"],[1,"col4"],["color","primary","expand","full",3,"click"]],template:function(a,p){1&a&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),t._UZ(3,"ion-back-button",2),t.qZA(),t.TgZ(4,"ion-title",3),t._uU(5),t.qZA()(),t.TgZ(6,"div",4),t.YNc(7,b,5,3,"div",5),t.TgZ(8,"div",6)(9,"label"),t._uU(10,"Masukkan ID/Nomor"),t.qZA(),t.TgZ(11,"ion-input",7),t.NdJ("ngModelChange",function(f){return p.nohp=f})("ionInput",function(){return p.cekNomer()}),t.qZA()()()(),t.TgZ(12,"ion-content",8)(13,"div",9),t.YNc(14,v,2,0,"div",10),t.YNc(15,I,1,0,"div",11),t.YNc(16,L,1,0,"div",11),t.YNc(17,U,1,0,"div",11),t.YNc(18,M,2,1,"div",12),t.qZA()(),t.YNc(19,x,9,5,"ion-footer",13)),2&a&&(t.xp6(5),t.hij("Topup ",p.jenis,""),t.xp6(2),t.Q6J("ngIf","Pulsa"!=p.jenis),t.xp6(4),t.Q6J("ngModel",p.nohp),t.xp6(1),t.Q6J("fullscreen",!0),t.xp6(2),t.Q6J("ngIf",!p.skeleton&&0==p.produk.length),t.xp6(1),t.Q6J("ngIf",p.skeleton),t.xp6(1),t.Q6J("ngIf",p.skeleton),t.xp6(1),t.Q6J("ngIf",p.skeleton),t.xp6(1),t.Q6J("ngIf",p.produk.length>0),t.xp6(1),t.Q6J("ngIf",p.produkselect>0))},dependencies:[o.mk,o.sg,o.O5,u.JJ,u.On,g.oU,g.YG,g.Sm,g.W2,g.fr,g.Gu,g.pK,g.t9,g.n0,g.wd,g.sr,g.QI,g.j9,g.cs,o.JJ],styles:["ion-content[_ngcontent-%COMP%], ion-toolbar[_ngcontent-%COMP%]{--background: #eaf1ff}.form[_ngcontent-%COMP%]{width:94vw;padding:12px;border-radius:12px;margin:0 auto 20px;background-color:var(--ion-color-primary);color:#fff}ion-select[_ngcontent-%COMP%], .input-bold[_ngcontent-%COMP%]{padding:0 16px!important;color:var(--ion-color-primary);background-color:#fff;border-radius:8px;margin-top:8px;font-size:140%}ion-select[_ngcontent-%COMP%]{font-size:100%;font-weight:700}.produk[_ngcontent-%COMP%]{width:94vw;margin:auto}.skeleton[_ngcontent-%COMP%]{height:60px;margin-bottom:4px}.total[_ngcontent-%COMP%]{font-family:appbold;color:var(--ion-color-primary);font-size:130%}.produk-list[_ngcontent-%COMP%]   .col6[_ngcontent-%COMP%]{padding:6px}.item[_ngcontent-%COMP%]{border-radius:8px;border:2px dashed transparent;background-color:#fff;padding:12px;text-align:center}.item.active[_ngcontent-%COMP%]{border-color:var(--ion-color-primary)}.item[_ngcontent-%COMP%]   .harga[_ngcontent-%COMP%]{font-family:appbold;color:var(--ion-color-primary);font-size:110%}.notif[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;padding:12px;color:var(--ion-color-danger);text-align:center;box-shadow:0 0 1px 1px #dbdbdb}"]})}return i})()}];let T=(()=>{class i{static \u0275fac=function(a){return new(a||i)};static \u0275mod=t.oAB({type:i});static \u0275inj=t.cJS({imports:[d.Bz.forChild(C),d.Bz]})}return i})();var O=s(5597);let y=(()=>{class i{static \u0275fac=function(a){return new(a||i)};static \u0275mod=t.oAB({type:i});static \u0275inj=t.cJS({imports:[o.ez,u.u5,g.Pc,O.uH,T]})}return i})()},492:(A,P,s)=>{s.d(P,{L:()=>m});var o=s(3082),u=s(6689),g=s(9862),d=s(1325),_=s(3251);let m=(()=>{class t{http;navCtrl;alerts;isLoggedIn=!1;serverUP=!1;token;dataResult="error";APP_URL=o.g.webURL;API_URL=o.g.apiURL;constructor(e,r,c){this.http=e,this.navCtrl=r,this.alerts=c}apiUrl(){return this.API_URL}cekOngkir(e,r,c,b,v){return this.http.get(this.API_URL+"ceksongkir?dari="+e+"&berat="+r+"&tujuan="+c+"&kurir="+b+"&services="+v).pipe()}getLogin(){return this.http.get(this.API_URL+"auth/loginmode").pipe()}getSaldo(){return this.http.get(this.API_URL+"akun/saldo").pipe()}getBayarSaldo(e){return this.http.get(this.API_URL+"akun/bayarsaldo/"+e).pipe()}getSlider(){return this.http.get(this.API_URL+"home/slider").pipe()}getPromo(){return this.http.get(this.API_URL+"home/promo").pipe()}getBlog(){return this.http.get(this.API_URL+"home/blog").pipe()}getBlogSingle(e){return this.http.get(this.API_URL+"home/blogsingle/"+e).pipe()}dropBank(){return this.http.get(this.API_URL+"home/getbank").pipe()}wasapRotator(){return this.http.get(this.API_URL+"home/getwhatsapp").pipe()}dropProv(){return this.http.get(this.API_URL+"home/getprov").pipe()}dropKab(e){return this.http.get(this.API_URL+"home/getkab/"+e).pipe()}dropKec(e){return this.http.get(this.API_URL+"home/getkec/"+e).pipe()}getTestimoni(){return this.http.get(this.API_URL+"home/testimoni").pipe()}getProduk(){return this.http.get(this.API_URL+"produk/produkterbaru").pipe()}getProdukDigital(){return this.http.get(this.API_URL+"produk/produkdigital").pipe()}getProdukPO(){return this.http.get(this.API_URL+"produk/produkpreorder").pipe()}cariProduk(e,r){return this.http.post(this.API_URL+"produk/cariproduk?page="+r,{cari:e}).pipe()}getProdukKategori(e,r){return this.http.get(this.API_URL+"produk/produk?catid="+e+"&page="+r).pipe()}getProdukPPOB(e,r){return this.http.post(this.API_URL+"ppob/produk",{kategori:e,brand:r}).pipe()}getBrandPPOB(e){return this.http.post(this.API_URL+"ppob/produkbrand",{kategori:e}).pipe()}getTagihanPPOB(e,r){return this.http.post(this.API_URL+"ppob/tagihan",{kode:e,nomer:r}).pipe()}getTransaksiPPOB(e){return this.http.post(this.API_URL+"ppob/transaksi",{trx:e}).pipe()}PPOBLoad(e,r=10){return this.http.get(this.API_URL+"ppob/transaksilist?page="+e+"&perpage="+r).pipe()}getNotif(){return this.http.get(this.API_URL+"home/notif").pipe()}getChat(){return this.http.get(this.API_URL+"pesan/chat").pipe()}getVoucher(e){return this.http.get(this.API_URL+"transaksi/getvoucher?digital="+e).pipe()}getBayar(){return this.http.get(this.API_URL+"transaksi/bayarpesanan").pipe()}getBayarDigital(){return this.http.get(this.API_URL+"transaksi/bayarpesanandigital").pipe()}getBayarDetail(e){return this.http.get(this.API_URL+"transaksi/pembayaran/"+e).pipe()}getReview(e){return this.http.get(this.API_URL+"review/getreview/"+e).pipe()}getKategori(){return this.http.get(this.API_URL+"home/kategori").pipe()}getKeranjang(){return this.http.get(this.API_URL+"transaksi/keranjang").pipe()}alamatLoad(e){return this.http.get(this.API_URL+"akun/alamat/?page="+e).pipe()}alamatSingle(e,r,c){return this.http.get(this.API_URL+"akun/getalamat/"+e+"/"+r+"/"+c).pipe()}rekeningLoad(e,r=6){return this.http.get(this.API_URL+"akun/rekening/?page="+e+"&perpage="+r).pipe()}rekeningSingle(e){return this.http.get(this.API_URL+"akun/getrekening/"+e).pipe()}lacakPaket(e){return this.http.get(this.API_URL+"home/lacakiriman/?trx="+e).pipe()}profilLoad(){return this.http.get(this.API_URL+"akun/profil")}pesananLoad(e,r){return this.http.get(this.API_URL+"transaksi/pesanan/?page="+e+"&status="+r).pipe()}pesananSingle(e){return this.http.get(this.API_URL+"transaksi/pesanansingle/"+e).pipe()}getProdukSingle(e){return this.http.get(this.API_URL+"produk/produksingle?pid="+e).pipe()}getSize(e,r){return this.http.get(this.API_URL+"produk/size?pid="+e+"&proid="+r).pipe()}static \u0275fac=function(r){return new(r||t)(u.LFG(g.eN),u.LFG(d.SH),u.LFG(_.c))};static \u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})()},6828:(A,P,s)=>{s.d(P,{Z:()=>g});const o=void 0,g=["es",[["a.\xa0m.","p.\xa0m."],o,o],o,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],o,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],o,[["a. C.","d. C."],o,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1}, {0}",o,o,o],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[o,"$"],BRL:[o,"R$"],BYN:[o,"\u0440."],CAD:[o,"$"],CNY:[o,"\xa5"],EGP:[],ESP:["\u20a7"],GBP:[o,"\xa3"],HKD:[o,"$"],ILS:[o,"\u20aa"],INR:[o,"\u20b9"],JPY:[o,"\xa5"],KRW:[o,"\u20a9"],MXN:[o,"$"],NZD:[o,"$"],PHP:[o,"\u20b1"],RON:[o,"L"],THB:["\u0e3f"],TWD:[o,"NT$"],USD:["US$","$"],XAF:[],XCD:[o,"$"],XOF:[]},"ltr",function u(d){const _=d,m=Math.floor(Math.abs(d)),t=d.toString().replace(/^[^.]*\.?/,"").length,k=parseInt(d.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===_?1:0===k&&0!==m&&m%1e6==0&&0===t||!(k>=0&&k<=5)?4:5}]}}]);