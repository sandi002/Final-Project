"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2370],{2370:(L,P,r)=>{r.r(P),r.d(P,{ChatPageModule:()=>O});var u=r(6814),h=r(95),_=r(8371),p=r(1325),m=r(5861),t=r(6689),c=r(6465),U=r(492),e=r(3251);function a(n,d){if(1&n&&(t.TgZ(0,"div",15)(1,"div",8)(2,"div",16),t._UZ(3,"img",17),t.qZA(),t.TgZ(4,"div",18)(5,"div",19),t._uU(6),t.qZA(),t.TgZ(7,"div",20),t._uU(8),t.qZA()()()()),2&n){const i=t.oxw().$implicit;t.MGl("routerLink","/produks/",i.idproduk,""),t.xp6(3),t.s9C("src",i.produk_foto,t.LSH),t.xp6(3),t.Oqu(i.produk_nama),t.xp6(2),t.AsE("Rp. ",i.produk_harga," | ",i.produk_stok," tersedia")}}function l(n,d){1&n&&t._UZ(0,"br")}function k(n,d){if(1&n&&(t.TgZ(0,"span",26),t._uU(1),t.qZA()),2&n){const i=t.oxw(2).$implicit;t.xp6(1),t.Oqu(i.waktu)}}function f(n,d){1&n&&t._UZ(0,"ion-icon",27)}function A(n,d){if(1&n&&(t.TgZ(0,"span",26),t._uU(1),t.qZA()),2&n){const i=t.oxw(2).$implicit;t.xp6(1),t.Oqu(i.waktu)}}function I(n,d){1&n&&t._UZ(0,"ion-icon",28)}function x(n,d){if(1&n&&(t.TgZ(0,"div",21),t._uU(1),t.YNc(2,l,1,0,"br",22),t.YNc(3,k,2,1,"span",23),t._uU(4,"\xa0 "),t.YNc(5,f,1,0,"ion-icon",24),t.YNc(6,A,2,1,"span",23),t._uU(7,"\xa0 "),t.YNc(8,I,1,0,"ion-icon",25),t.qZA()),2&n){const i=t.oxw().$implicit;t.xp6(1),t.hij(" ",i.pesan," "),t.xp6(1),t.Q6J("ngIf","tengah"!=i.letak),t.xp6(1),t.Q6J("ngIf",0==i.baca&&"tengah"!=i.letak),t.xp6(2),t.Q6J("ngIf",0==i.baca&&"tengah"!=i.letak),t.xp6(1),t.Q6J("ngIf",1==i.baca&&"tengah"!=i.letak),t.xp6(2),t.Q6J("ngIf",1==i.baca&&"tengah"!=i.letak)}}function R(n,d){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,a,9,5,"div",13),t.YNc(2,x,9,6,"div",14),t.qZA()),2&n){const i=d.$implicit;t.Gre("pesanitem ",i.letak,""),t.xp6(1),t.Q6J("ngIf",i.idproduk>0),t.xp6(1),t.Q6J("ngIf",0==i.idproduk)}}const C=[{path:"",component:(()=>{class n{postapi;getapi;router;loading;alert;content;pesan;pesanform;constructor(i,s,o,g,v){this.postapi=i,this.getapi=s,this.router=o,this.loading=g,this.alert=v}myContent;ngOnInit(){}ionViewWillEnter(){this.getPesan()}getPesan(){var i=this;return(0,m.Z)(function*(){const s=yield i.loading.create({message:"Memuat pesan...",spinner:"crescent"});yield s.present(),i.getapi.getChat().subscribe(o=>{s.dismiss(),i.content.scrollToBottom(),1==o.success?i.pesan=o.result:i.alert.presentToast("gagal memuat pesan")})})()}kirimPesan(){var i=this;return(0,m.Z)(function*(){const s=yield i.loading.create({message:"Mengirim pesan...",spinner:"crescent"});yield s.present(),i.postapi.sendChat({pesan:i.pesanform,produk:0}).subscribe(o=>{s.dismiss(),1==o.success?(i.getPesan(),i.pesanform=""):i.alert.presentAlert("Server Penuh","gagal mengirim pesan")})})()}static \u0275fac=function(s){return new(s||n)(t.Y36(c.E),t.Y36(U.L),t.Y36(_.F0),t.Y36(p.HT),t.Y36(e.c))};static \u0275cmp=t.Xpm({type:n,selectors:[["app-chat"]],viewQuery:function(s,o){if(1&s&&(t.Gf(p.W2,5),t.Gf(p.W2,7)),2&s){let g;t.iGM(g=t.CRH())&&(o.content=g.first),t.iGM(g=t.CRH())&&(o.myContent=g.first)}},decls:16,vars:2,consts:[["slot","start"],["defaultHref","tabs","color","primary"],[1,"font-bold"],[1,"pesan"],["pesano",""],[1,"pesanload"],[3,"class",4,"ngFor","ngForOf"],["lines","none"],[1,"row"],[1,"col10"],["type","text","placeholder","ketik pesan...",1,"input",3,"ngModel","keyup.enter","ngModelChange"],["slot","end",1,"col2"],["name","send",1,"send",3,"click"],["class","isipesan",3,"routerLink",4,"ngIf"],["class","isipesan",4,"ngIf"],[1,"isipesan",3,"routerLink"],[1,"col3","text-left"],[2,"max-width","100%","max-height","60px","border-radius","6px",3,"src"],[1,"col9","text-left"],[1,"font-medium",2,"white-space","nowrap","overflow","hidden","text-overflow","ellipsis","padding-left","8px"],[2,"white-space","nowrap","overflow","hidden","text-overflow","ellipsis","font-size","85%","padding-left","8px"],[1,"isipesan"],[4,"ngIf"],["class","read",4,"ngIf"],["name","checkmark",4,"ngIf"],["name","checkmark-done",4,"ngIf"],[1,"read"],["name","checkmark"],["name","checkmark-done"]],template:function(s,o){1&s&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),t._UZ(3,"ion-back-button",1),t.qZA(),t.TgZ(4,"ion-title",2),t._uU(5,"Live Chat"),t.qZA()()(),t.TgZ(6,"ion-content",3,4)(8,"div",5),t.YNc(9,R,3,5,"div",6),t.qZA()(),t.TgZ(10,"ion-footer",7)(11,"div",8)(12,"div",9)(13,"ion-input",10),t.NdJ("keyup.enter",function(){return o.kirimPesan()})("ngModelChange",function(v){return o.pesanform=v}),t.qZA()(),t.TgZ(14,"div",11)(15,"ion-icon",12),t.NdJ("click",function(){return o.kirimPesan()}),t.qZA()()()()),2&s&&(t.xp6(9),t.Q6J("ngForOf",o.pesan),t.xp6(4),t.Q6J("ngModel",o.pesanform))},dependencies:[u.sg,u.O5,h.JJ,h.On,p.oU,p.Sm,p.W2,p.fr,p.Gu,p.gu,p.pK,p.wd,p.sr,p.j9,p.cs,p.YI,_.rH],styles:[".send[_ngcontent-%COMP%]{font-size:230%;color:var(--ion-color-primary)}.row[_ngcontent-%COMP%]{padding:8px 0}.row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{align-items:center}.col10[_ngcontent-%COMP%]{padding:5px 5px 5px 10px}.col2[_ngcontent-%COMP%]{text-align:center}.input[_ngcontent-%COMP%]{border:1px solid transparent}.pesan[_ngcontent-%COMP%]{--background: #ecf0f1}.pesanitem[_ngcontent-%COMP%]{position:relative;display:flex;margin-top:10px}.pesanitem.kanan[_ngcontent-%COMP%]{justify-content:flex-end}.pesanitem.kiri[_ngcontent-%COMP%]   .isipesan[_ngcontent-%COMP%]{background:#fff;padding:6px 12px;border-radius:6px;display:inline-block;max-width:70%;margin-left:14px}.pesanitem.tengah[_ngcontent-%COMP%]   .isipesan[_ngcontent-%COMP%]{background:var(--ion-color-primary-tint);padding:6px 12px;border-radius:6px;display:inline-block;max-width:70%;margin:auto}.pesanitem.kanan[_ngcontent-%COMP%]   .isipesan[_ngcontent-%COMP%]{background:var(--ion-color-primary);padding:6px 12px;border-radius:6px;display:inline-block;max-width:70%;color:#fff;margin-right:14px;text-align:right}.read[_ngcontent-%COMP%]{font-size:70%;justify-content:end;align-items:center}.pesanload[_ngcontent-%COMP%]{margin-bottom:30px}"]})}return n})()}];let O=(()=>{class n{static \u0275fac=function(s){return new(s||n)};static \u0275mod=t.oAB({type:n});static \u0275inj=t.cJS({imports:[u.ez,h.u5,p.Pc,_.Bz.forChild(C)]})}return n})()},492:(L,P,r)=>{r.d(P,{L:()=>t});var u=r(3082),h=r(6689),_=r(9862),p=r(1325),m=r(3251);let t=(()=>{class c{http;navCtrl;alerts;isLoggedIn=!1;serverUP=!1;token;dataResult="error";APP_URL=u.g.webURL;API_URL=u.g.apiURL;constructor(e,a,l){this.http=e,this.navCtrl=a,this.alerts=l}apiUrl(){return this.API_URL}cekOngkir(e,a,l,k,f){return this.http.get(this.API_URL+"ceksongkir?dari="+e+"&berat="+a+"&tujuan="+l+"&kurir="+k+"&services="+f).pipe()}getLogin(){return this.http.get(this.API_URL+"auth/loginmode").pipe()}getSaldo(){return this.http.get(this.API_URL+"akun/saldo").pipe()}getBayarSaldo(e){return this.http.get(this.API_URL+"akun/bayarsaldo/"+e).pipe()}getSlider(){return this.http.get(this.API_URL+"home/slider").pipe()}getPromo(){return this.http.get(this.API_URL+"home/promo").pipe()}getBlog(){return this.http.get(this.API_URL+"home/blog").pipe()}getBlogSingle(e){return this.http.get(this.API_URL+"home/blogsingle/"+e).pipe()}dropBank(){return this.http.get(this.API_URL+"home/getbank").pipe()}wasapRotator(){return this.http.get(this.API_URL+"home/getwhatsapp").pipe()}dropProv(){return this.http.get(this.API_URL+"home/getprov").pipe()}dropKab(e){return this.http.get(this.API_URL+"home/getkab/"+e).pipe()}dropKec(e){return this.http.get(this.API_URL+"home/getkec/"+e).pipe()}getTestimoni(){return this.http.get(this.API_URL+"home/testimoni").pipe()}getProduk(){return this.http.get(this.API_URL+"produk/produkterbaru").pipe()}getProdukDigital(){return this.http.get(this.API_URL+"produk/produkdigital").pipe()}getProdukPO(){return this.http.get(this.API_URL+"produk/produkpreorder").pipe()}cariProduk(e,a){return this.http.post(this.API_URL+"produk/cariproduk?page="+a,{cari:e}).pipe()}getProdukKategori(e,a){return this.http.get(this.API_URL+"produk/produk?catid="+e+"&page="+a).pipe()}getProdukPPOB(e,a){return this.http.post(this.API_URL+"ppob/produk",{kategori:e,brand:a}).pipe()}getBrandPPOB(e){return this.http.post(this.API_URL+"ppob/produkbrand",{kategori:e}).pipe()}getTagihanPPOB(e,a){return this.http.post(this.API_URL+"ppob/tagihan",{kode:e,nomer:a}).pipe()}getTransaksiPPOB(e){return this.http.post(this.API_URL+"ppob/transaksi",{trx:e}).pipe()}PPOBLoad(e,a=10){return this.http.get(this.API_URL+"ppob/transaksilist?page="+e+"&perpage="+a).pipe()}getNotif(){return this.http.get(this.API_URL+"home/notif").pipe()}getChat(){return this.http.get(this.API_URL+"pesan/chat").pipe()}getVoucher(e){return this.http.get(this.API_URL+"transaksi/getvoucher?digital="+e).pipe()}getBayar(){return this.http.get(this.API_URL+"transaksi/bayarpesanan").pipe()}getBayarDigital(){return this.http.get(this.API_URL+"transaksi/bayarpesanandigital").pipe()}getBayarDetail(e){return this.http.get(this.API_URL+"transaksi/pembayaran/"+e).pipe()}getReview(e){return this.http.get(this.API_URL+"review/getreview/"+e).pipe()}getKategori(){return this.http.get(this.API_URL+"home/kategori").pipe()}getKeranjang(){return this.http.get(this.API_URL+"transaksi/keranjang").pipe()}alamatLoad(e){return this.http.get(this.API_URL+"akun/alamat/?page="+e).pipe()}alamatSingle(e,a,l){return this.http.get(this.API_URL+"akun/getalamat/"+e+"/"+a+"/"+l).pipe()}rekeningLoad(e,a=6){return this.http.get(this.API_URL+"akun/rekening/?page="+e+"&perpage="+a).pipe()}rekeningSingle(e){return this.http.get(this.API_URL+"akun/getrekening/"+e).pipe()}lacakPaket(e){return this.http.get(this.API_URL+"home/lacakiriman/?trx="+e).pipe()}profilLoad(){return this.http.get(this.API_URL+"akun/profil")}pesananLoad(e,a){return this.http.get(this.API_URL+"transaksi/pesanan/?page="+e+"&status="+a).pipe()}pesananSingle(e){return this.http.get(this.API_URL+"transaksi/pesanansingle/"+e).pipe()}getProdukSingle(e){return this.http.get(this.API_URL+"produk/produksingle?pid="+e).pipe()}getSize(e,a){return this.http.get(this.API_URL+"produk/size?pid="+e+"&proid="+a).pipe()}static \u0275fac=function(a){return new(a||c)(h.LFG(_.eN),h.LFG(p.SH),h.LFG(m.c))};static \u0275prov=h.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})()}}]);