"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1065],{1065:(E,m,r)=>{r.r(m),r.d(m,{Tab3PageModule:()=>$});var c=r(1325),d=r(8371),_=r(6814),p=r(95),g=r(5861),u=r(1273),n=r(6689),f=r(3251),v=r(492),b=r(6465);function P(t,o){1&t&&(n.TgZ(0,"div",15)(1,"div",7)(2,"div",16),n._UZ(3,"img",17),n.qZA(),n._uU(4," Belum ada Transaksi "),n.qZA()())}function T(t,o){if(1&t&&(n.TgZ(0,"div",40),n._uU(1),n.qZA()),2&t){const i=n.oxw().$implicit;n.xp6(1),n.hij("Payment ID: #",i.orderid,"")}}function h(t,o){if(1&t&&(n.TgZ(0,"div",40),n._uU(1),n.qZA()),2&t){const i=n.oxw().$implicit;n.xp6(1),n.hij("Order ID: #",i.orderid,"")}}function x(t,o){1&t&&(n.TgZ(0,"div"),n._UZ(1,"ion-icon",41),n._uU(2," \xa0admin sedang menyiapkan pesanan"),n.qZA())}function Z(t,o){1&t&&(n.TgZ(0,"div"),n._UZ(1,"ion-icon",42),n._uU(2," \xa0pesanan sedang dikirim"),n.qZA())}function C(t,o){1&t&&(n.TgZ(0,"div",43),n._UZ(1,"ion-icon",44),n._uU(2," \xa0produk digital"),n.qZA())}function M(t,o){if(1&t&&(n.TgZ(0,"ion-button",45),n._uU(1,"Bayar Pesanan"),n.qZA()),2&t){const i=n.oxw().$implicit;n.MGl("routerLink","/bayarpesanan/",i.idbayar,"")}}function O(t,o){if(1&t){const i=n.EpF();n.TgZ(0,"ion-button",46),n.NdJ("click",function(){n.CHM(i);const e=n.oxw().$implicit,s=n.oxw(2);return n.KtG(s.hapusPesanan(e.id))}),n._uU(1,"Batalkan"),n.qZA()}}function k(t,o){if(1&t){const i=n.EpF();n.TgZ(0,"ion-button",46),n.NdJ("click",function(){n.CHM(i);const e=n.oxw().$implicit,s=n.oxw(2);return n.KtG(s.hapusPesanan(e.id))}),n._uU(1,"Hapus"),n.qZA()}}function U(t,o){if(1&t){const i=n.EpF();n.TgZ(0,"ion-button",47),n.NdJ("click",function(){n.CHM(i);const e=n.oxw().$implicit,s=n.oxw(2);return n.KtG(s.terimaPesanan(e.id))}),n._uU(1,"Terima Pesanan"),n.qZA()}}function y(t,o){if(1&t&&(n.TgZ(0,"ion-button",48),n._uU(1,"Berikan Ulasan"),n.qZA()),2&t){const i=n.oxw().$implicit;n.MGl("routerLink","/review/",i.id,"")}}function w(t,o){1&t&&n._UZ(0,"ion-icon",52)}function A(t,o){1&t&&n._UZ(0,"ion-icon",52)}function I(t,o){1&t&&n._UZ(0,"ion-icon",52)}function J(t,o){1&t&&n._UZ(0,"ion-icon",52)}function N(t,o){1&t&&n._UZ(0,"ion-icon",52)}function Y(t,o){1&t&&n._UZ(0,"ion-icon",53)}function Q(t,o){1&t&&n._UZ(0,"ion-icon",53)}function q(t,o){1&t&&n._UZ(0,"ion-icon",53)}function L(t,o){1&t&&n._UZ(0,"ion-icon",53)}function G(t,o){1&t&&n._UZ(0,"ion-icon",53)}function z(t,o){if(1&t&&(n.TgZ(0,"div",49),n.YNc(1,w,1,0,"ion-icon",50),n.YNc(2,A,1,0,"ion-icon",50),n.YNc(3,I,1,0,"ion-icon",50),n.YNc(4,J,1,0,"ion-icon",50),n.YNc(5,N,1,0,"ion-icon",50),n.YNc(6,Y,1,0,"ion-icon",51),n.YNc(7,Q,1,0,"ion-icon",51),n.YNc(8,q,1,0,"ion-icon",51),n.YNc(9,L,1,0,"ion-icon",51),n.YNc(10,G,1,0,"ion-icon",51),n.qZA()),2&t){const i=n.oxw().$implicit;n.xp6(1),n.Q6J("ngIf",i.review>=1),n.xp6(1),n.Q6J("ngIf",i.review>=2),n.xp6(1),n.Q6J("ngIf",i.review>=3),n.xp6(1),n.Q6J("ngIf",i.review>=4),n.xp6(1),n.Q6J("ngIf",i.review>=5),n.xp6(1),n.Q6J("ngIf",i.review<1),n.xp6(1),n.Q6J("ngIf",i.review<2),n.xp6(1),n.Q6J("ngIf",i.review<3),n.xp6(1),n.Q6J("ngIf",i.review<4),n.xp6(1),n.Q6J("ngIf",i.review<5)}}const B=function(t){return{"background-image":t}};function j(t,o){if(1&t&&(n.TgZ(0,"div",20)(1,"div",21)(2,"div",22),n._UZ(3,"div",23),n.TgZ(4,"div",24),n.YNc(5,T,2,1,"div",25),n.YNc(6,h,2,1,"div",25),n.TgZ(7,"div",26),n._uU(8),n.qZA(),n.TgZ(9,"div",27),n._uU(10),n.qZA(),n.TgZ(11,"div",28),n._uU(12),n.qZA()(),n.TgZ(13,"div",29)(14,"div",30),n._uU(15,"Total Bayar:"),n.qZA(),n.TgZ(16,"div",31)(17,"b"),n._uU(18),n.qZA()()()()(),n.TgZ(19,"div",32),n.YNc(20,x,3,0,"div",33),n.YNc(21,Z,3,0,"div",33),n.YNc(22,C,3,0,"div",34),n.qZA(),n.TgZ(23,"div",32),n.YNc(24,M,2,1,"ion-button",35),n.YNc(25,O,2,0,"ion-button",36),n.YNc(26,k,2,0,"ion-button",36),n.YNc(27,U,2,0,"ion-button",37),n.YNc(28,y,2,1,"ion-button",38),n.YNc(29,z,11,10,"div",39),n.qZA()()),2&t){const i=o.$implicit,a=n.oxw(2);n.xp6(1),n.MGl("routerLink","/detailpesanan/",i.id,""),n.xp6(2),n.Q6J("ngStyle",n.VKq(18,B,"url("+i.foto+")")),n.xp6(2),n.Q6J("ngIf",0==a.status),n.xp6(1),n.Q6J("ngIf",a.status>0),n.xp6(2),n.Oqu(i.nama),n.xp6(2),n.Oqu(i.variasi),n.xp6(2),n.AsE("",i.jml," x ",i.harga,""),n.xp6(6),n.hij("Rp ",i.total,""),n.xp6(2),n.Q6J("ngIf",1==i.status),n.xp6(1),n.Q6J("ngIf",2==i.status),n.xp6(1),n.Q6J("ngIf",1==i.digital),n.xp6(2),n.Q6J("ngIf",0==i.status),n.xp6(1),n.Q6J("ngIf",0==i.status),n.xp6(1),n.Q6J("ngIf",4==i.status),n.xp6(1),n.Q6J("ngIf",i.status>=1&&i.status<=2),n.xp6(1),n.Q6J("ngIf",3==i.status&&0==i.review),n.xp6(1),n.Q6J("ngIf",3==i.status&&i.review>0)}}function F(t,o){if(1&t&&(n.TgZ(0,"div",18),n.YNc(1,j,30,20,"div",19),n.qZA()),2&t){const i=n.oxw();n.xp6(1),n.Q6J("ngForOf",i.items)}}let H=(()=>{class t{alert;getapi;router;loading;postapi;page=1;maximumPages=1;items=[];batalclass="nav-item";prosesclass="nav-item";belumclass="nav-item active";selesaiclass="nav-item";bg="";status=0;constructor(i,a,e,s,l){this.alert=i,this.getapi=a,this.router=e,this.loading=s,this.postapi=l}ngOnInit(){}ionViewWillEnter(){var i=this;return(0,g.Z)(function*(){i.page=1,i.items=[];const a=yield i.loading.create({message:"Loading...",spinner:"crescent"});yield a.present(),i.getdata().then(e=>{a.dismiss(),0!=(e=JSON.parse(e)).usrid?i.loadUsers():i.alert.konfirmasi("Login","Silahkan login atau mendaftar terlebih dahulu").then(s=>{i.router.navigate(1==s.data?["/login"]:["/"])})},e=>{a.dismiss(),i.alert.konfirmasi("Login","Silahkan login atau mendaftar terlebih dahulu").then(s=>{i.router.navigate(1==s.data?["/login"]:["/"])})})})()}getdata(){return(0,g.Z)(function*(){return(yield u.u.get({key:"data"})).value})()}loadMore(i){this.page++,this.page>this.maximumPages?(i.target.complete(),console.log("data dah habis bosku")):this.loadUsers(i)}belumLoad(){this.page=1,this.belumclass="nav-item active",this.prosesclass="nav-item",this.batalclass="nav-item",this.selesaiclass="nav-item",this.status=0,this.items=[],this.loadUsers()}prosesLoad(){this.page=1,this.belumclass="nav-item",this.prosesclass="nav-item active",this.batalclass="nav-item",this.selesaiclass="nav-item",this.status=1,this.items=[],this.loadUsers()}batalLoad(){this.page=1,this.belumclass="nav-item",this.prosesclass="nav-item",this.batalclass="nav-item active",this.selesaiclass="nav-item",this.status=4,this.items=[],this.loadUsers()}selesaiLoad(){this.page=1,this.belumclass="nav-item",this.prosesclass="nav-item",this.batalclass="nav-item",this.selesaiclass="nav-item active",this.status=3,this.items=[],this.loadUsers()}loadUsers(i){var a=this;return(0,g.Z)(function*(){const e=yield a.loading.create({message:"memuat pesanan",spinner:"circular"});i||(yield e.present()),a.getapi.pesananLoad(a.page,a.status).subscribe(s=>{i||e.dismiss(),i&&i.target.complete(),s.success?(a.items=a.items.concat(s.data),a.maximumPages=s.maxPage):a.alert.presentToast("terjadi kesalahan saat menghubungi server"),a.bg=a.items.length>0?"bg":""})})()}terimaPesanan(i){var a=this;return(0,g.Z)(function*(){const e=yield a.loading.create({message:"mengupdate pesanan",spinner:"circular"});a.alert.konfirmasi("Terima pesanan","Pastikan bahwa pesanan yg diterima sudah sesuai").then(s=>{1==s.data&&(a.page=1,a.items=[],e.present(),a.postapi.terimaPesanan(i).subscribe(l=>{e.dismiss(),l.success?(a.alert.presentToast("Pesanan berhasil diselesaikan"),a.loadUsers()):a.alert.presentAlert("Gagal mengupdate","Gagal mengupdate pesanan, cobalah beberapa saat lagi")}))})})()}hapusPesanan(i){var a=this;return(0,g.Z)(function*(){const e=yield a.loading.create({message:"menghapus pesanan",spinner:"circular"});a.alert.konfirmasi("Hapus pesanan","Anda yakin akan menghapus/membatalkan pesanan ini?").then(s=>{1==s.data&&(a.page=1,a.items=[],e.present(),a.postapi.hapusPesanan(i).subscribe(l=>{e.dismiss(),l.success?(a.alert.presentToast("Pesanan telah dihapus/dibatalkan"),a.loadUsers()):a.alert.presentAlert("Gagal menghapus/membatalkan","Gagal menghapus/membatalkan pesanan, cobalah beberapa saat lagi")}))})})()}static \u0275fac=function(a){return new(a||t)(n.Y36(f.c),n.Y36(v.L),n.Y36(d.F0),n.Y36(c.HT),n.Y36(b.E))};static \u0275cmp=n.Xpm({type:t,selectors:[["app-tab3"]],decls:31,vars:7,consts:[[1,"ion-no-border"],["slot","start"],["color","primary","defaultHref","/tabs/tab1"],["color","dark",1,"font-bold"],["slot","end","routerLink","/ppoblist",1,"toptag"],[1,"nav"],[3,"ngClass","click"],[1,"title"],[1,"line"],[3,"ngClass"],["class","kosong",4,"ngIf"],["class","itemwrap",4,"ngIf"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","circular","loadingText","memuat..."],[1,"mt50","mb50","divider"],[1,"kosong"],[1,"img-empty"],["src","/assets/img/empty.png"],[1,"itemwrap"],["class","item",4,"ngFor","ngForOf"],[1,"item"],[1,"click","mb10",3,"routerLink"],[1,"row"],[1,"col3","foto",3,"ngStyle"],[1,"col9"],["class","no",4,"ngIf"],[1,"titel"],[1,"variasi"],[1,"jumlah"],[1,"col12","row"],[1,"col6"],[1,"col6","text-right","text-primary"],[1,"col12"],[4,"ngIf"],["class","text-left text-primary font-medium",4,"ngIf"],["color","primary",3,"routerLink",4,"ngIf"],["color","danger",3,"click",4,"ngIf"],["color","success",3,"click",4,"ngIf"],["color","warning",3,"routerLink",4,"ngIf"],["class","nilai mb20",4,"ngIf"],[1,"no"],["name","alert-circle","color","warning"],["name","rocket","color","warning"],[1,"text-left","text-primary","font-medium"],["name","cloud","color","primary"],["color","primary",3,"routerLink"],["color","danger",3,"click"],["color","success",3,"click"],["color","warning",3,"routerLink"],[1,"nilai","mb20"],["class","staron","name","star",4,"ngIf"],["class","staroff","name","star",4,"ngIf"],["name","star",1,"staron"],["name","star",1,"staroff"]],template:function(a,e){1&a&&(n.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),n._UZ(3,"ion-back-button",2),n.qZA(),n.TgZ(4,"ion-title",3),n._uU(5,"Transaksi Anda"),n.qZA(),n.TgZ(6,"div",4),n._uU(7," Topup & Tagihan "),n.qZA()(),n.TgZ(8,"div",5)(9,"div",6),n.NdJ("click",function(){return e.belumLoad()}),n.TgZ(10,"div",7),n._uU(11,"Belum Bayar"),n.qZA(),n._UZ(12,"div",8),n.qZA(),n.TgZ(13,"div",6),n.NdJ("click",function(){return e.prosesLoad()}),n.TgZ(14,"div",7),n._uU(15,"Dalam Proses"),n.qZA(),n._UZ(16,"div",8),n.qZA(),n.TgZ(17,"div",6),n.NdJ("click",function(){return e.selesaiLoad()}),n.TgZ(18,"div",7),n._uU(19,"Selesai"),n.qZA(),n._UZ(20,"div",8),n.qZA(),n.TgZ(21,"div",6),n.NdJ("click",function(){return e.batalLoad()}),n.TgZ(22,"div",7),n._uU(23,"Dibatalkan"),n.qZA(),n._UZ(24,"div",8),n.qZA()()(),n.TgZ(25,"ion-content",9),n.YNc(26,P,5,0,"div",10),n.YNc(27,F,2,1,"div",11),n.TgZ(28,"ion-infinite-scroll",12),n.NdJ("ionInfinite",function(l){return e.loadMore(l)}),n._UZ(29,"ion-infinite-scroll-content",13),n.qZA(),n._UZ(30,"div",14),n.qZA()),2&a&&(n.xp6(9),n.Q6J("ngClass",e.belumclass),n.xp6(4),n.Q6J("ngClass",e.prosesclass),n.xp6(4),n.Q6J("ngClass",e.selesaiclass),n.xp6(4),n.Q6J("ngClass",e.batalclass),n.xp6(4),n.Q6J("ngClass",e.bg),n.xp6(1),n.Q6J("ngIf",0==e.items.length),n.xp6(1),n.Q6J("ngIf",e.items.length>0))},dependencies:[c.oU,c.YG,c.Sm,c.W2,c.Gu,c.gu,c.ju,c.MB,c.wd,c.sr,c.cs,c.YI,_.mk,_.sg,_.O5,_.PC,d.rH],styles:["ion-toolbar[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%]{--background: #eaf1ff}.ion-no-border[_ngcontent-%COMP%]{border-bottom:1px solid #f4f4f4}.kosong[_ngcontent-%COMP%]{padding:40px 20px;margin-top:10vh}.item[_ngcontent-%COMP%]:focus{outline:none}.item[_ngcontent-%COMP%]{margin:12px auto;padding:20px;background:#fff;font-size:90%;box-sizing:border-box;border-radius:12px;width:94vw}.item[_ngcontent-%COMP%]   .foto[_ngcontent-%COMP%]{height:20vw;background-size:cover;background-position:center center;border-radius:12px;overflow:hidden}.item[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin-bottom:10px}.item[_ngcontent-%COMP%]   .col12[_ngcontent-%COMP%]{text-align:right;margin-top:10px}.item[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col9[_ngcontent-%COMP%]{padding-left:20px;padding-right:10px}.item[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col9[_ngcontent-%COMP%]   .no[_ngcontent-%COMP%]{font-family:appmedium;color:#aca8a8;margin-bottom:8px}.item[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col9[_ngcontent-%COMP%]   .jumlah[_ngcontent-%COMP%]{font-family:appmedium}.item[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col9[_ngcontent-%COMP%]   .titel[_ngcontent-%COMP%]{margin-bottom:4px}.item[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col12[_ngcontent-%COMP%]   .col6[_ngcontent-%COMP%]{font-family:appbold;font-size:110%}.item[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col12[_ngcontent-%COMP%]{border-top:1px solid #f4f4f4;padding-top:8px}.item[_ngcontent-%COMP%]   .titel[_ngcontent-%COMP%]{font-size:110%;font-family:appbold}.item[_ngcontent-%COMP%]   .orderid[_ngcontent-%COMP%]{color:#2c3e50;font-weight:bolder}.item[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{text-align:right;font-size:90%;font-family:appbold}.red[_ngcontent-%COMP%]{color:#c0392b}.blue[_ngcontent-%COMP%]{color:#2980b9}.green[_ngcontent-%COMP%]{color:#27ae60}.nav[_ngcontent-%COMP%]{display:flex;background:#eaf1ff}.nav-item[_ngcontent-%COMP%]{padding:16px 14px 0;color:#9b9898}.nav-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:appmedium;font-size:85%;margin-bottom:8px}.nav-item[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:60%;border-bottom:3px solid transparent}.nav-item.active[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:var(--ion-color-primary)}.nav-item.active[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{border-bottom:3px solid var(--ion-color-primary)}.nilai[_ngcontent-%COMP%]   .staroff[_ngcontent-%COMP%], .nilai[_ngcontent-%COMP%]   .staron[_ngcontent-%COMP%]{font-size:160%;margin-right:2px}.nilai[_ngcontent-%COMP%]   .staroff[_ngcontent-%COMP%]{color:#afafaf}.nilai[_ngcontent-%COMP%]   .staron[_ngcontent-%COMP%]{color:#f7b731}.toptag[_ngcontent-%COMP%]{background-color:var(--ion-color-primary);color:#fff;padding:4px 12px;border-radius:24px;margin-right:8px;font-size:80%}"]})}return t})();var S=r(5597);let $=(()=>{class t{static \u0275fac=function(a){return new(a||t)};static \u0275mod=n.oAB({type:t});static \u0275inj=n.cJS({imports:[c.Pc,_.ez,p.u5,S.uH,d.Bz.forChild([{path:"",component:H}])]})}return t})()}}]);